@{
    ViewData["Title"] = "Detailed AI Chat";
}

<div class="container mt-5" style="background-color: #1a1a2e; color: #fff; min-height: 90vh; padding: 20px; border-radius: 12px;">
    <h2 class="mb-4 text-center" style="color: var(--accent-color); font-weight: bold;">💬 Chat with AI Coach</h2>

    <div class="chat-box mb-4" style="max-height: 60vh; overflow-y: auto; padding: 10px; background-color: #0f1626; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.5);">
        @if (ViewBag.UserMessage != null)
        {
            <div class="user-message p-3 mb-3" style="background-color: #2a2e5b; border-radius: 10px; max-width: 75%; margin-left: auto; color: #fff;">
                <strong>You:</strong>
                <p>@ViewBag.UserMessage</p>
            </div>
        }

        @if (ViewBag.GroqResponse != null)
        {
            <div class="ai-message p-3 mb-3" style="background-color: #3b3f75; border-radius: 10px; max-width: 75%; margin-right: auto; color: #fff;">
                <strong>AI Coach:</strong>
                <pre style="white-space: pre-wrap; word-wrap: break-word; margin: 0;">@ViewBag.GroqResponse</pre>
            </div>
        }
    </div>

    <form method="post" class="d-flex gap-2">
        <textarea name="userMessage" class="form-control" rows="2" placeholder="Ask anything about your exercise..."
                  style="resize: none; background-color: #2a2e5b; color: #fff; border: none; border-radius: 10px;"></textarea>
        <button type="submit" class="btn btn-success" style="border-radius: 10px;">Send</button>
    </form>
</div>
